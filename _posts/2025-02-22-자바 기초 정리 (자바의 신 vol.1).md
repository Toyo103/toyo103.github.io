---
layout: post
title: 자바 기초 정리 (자바의 신 vol.1)
subtitle: 자바 기초 문법 정리리
categories: CS
tags: [java]
---

## 1. 자바 변수와 자료형

### 1.1 변수의 종류

자바의 변수는 생명주기에 따라 4가지 종류로 나뉜다.

1. 지역 변수
    - 중괄호 내에서 선언된 변수
    - 생명주기도 해당 중괄호 내에서만 유효함
    - 자바에선 재선언이 허용되지 않으므로 해당 중괄호 내에서 동일한 이름을 갖는 지역 변수를 선언하면 컴파일 에러가 발생함

2. 매개 변수 
    - 메소드에 넘겨주는 변수
    - 메소드가 호출될 대 생명이 시작되어 메소드가 끝나면 소멸

3. 인스턴스 변수
    - 메소드 밖, 클래스 안에 선언된 변수
    - 객체가 생성될 때 생명이 시작되며, 그 객체를 참조하고 있는 다른 객체가 없으면 소멸됨

4. 클래스 변수
    - static 예약어가 붙은 인스턴스 변수
    - 클래스가 처음 로드될 때 생명이 시작되고, 자바 프로그램이 끝날 때 소멸됨
    - 클래스는 객체를 처음 생성하거나, 해당 클래스 변수에 접근하거나, 동적으로 로드하거나, 해당 클래스의 자식 클래스가 로드될 때 같이 로드됨

### 1.2 자료형의 종류

1. 기본 자료형
    - 바로 값을 넣어 초기화가 가능
    - 자료형의 첫 비트는 부호를 표시하는데 사용되며 음수의 범위가 양수의 범위보다 하나 더 큼. 부호비트가 1이고 나머지 비트가 0일 경우를 해당 타입의 최소값으로 사용하기 때문 (-2^n ~ -2^n-1)
    - 따라서 어떤 자료형에 최소값을 넣고 1을 빼면 최대값이, 최대값을 넣고 1을 더하면 최소값이 됨 (최소값이 10000000 이면 최대값은 01111111이기 때문)
    - 소수형 타입은 부동 소수점 연산을 사용하므로 값이 범위를 넘어서면 정확성이 보장되지 않음 -> 대신 java.match.BigDemical이라는 클래스를 사용
    - 자바의 모든 자료형은 값을 지정하지 않으면 기본값 사용. 기본 자료형은 각자의 기본값을 가지고 참조형은 null. 그러나 지역 변수일 경우는 기본값이 자동 적용되지 않음
    - 자바는 계산 시 두 피연산자가 정수형일 때 결과 값도 정수형으로 취급하므로 결과가 소수값이어도 소수형으로 결과가 나오진 않음. 소수점 아래까지의 결과를 원하면 두 피연산자를 소수형으로 할 필요가 있음
    - 종류
        - 정수형
            - byte  (-2^7 ~ 2^7-1)
            - short (-2^15 ~ 2^15-1)
            - int   (-2^31 ~ 2^31-1)
            - long  (-2^63 ~ 2^63-1)
                - long 자료형 초기화 시 L을 붙이지 않고 int 범위를 초과하는 값을 넣으면 에러 발생. 자바에서 기본적으로 숫자를 명시하면 int라고 생각하기 때문에 선언 시 L을 붙여주지 않으면 int로 인식됨
            - char
                - 정수형 중 유일하게 부호가 없음
                - 내부적으로 아스키/유니코드에 대응하는 숫자값을 저장하는 정수형 타입이지만 데이터 처리 방식에는 차이가 있음
                - 'a'와 같은 문자를 저장할 수 있으므로 char 같은 정수형인 다른 자료형들도 가능한 범위일 경우 해당 문자 저장 가능
                - 'a'같은 문자와 \u + 4자리의 16진수 값을 넣는 것이 대표적. 해당 값의 유니코드 번호를 지정해도 초기화 가능

        - 소수형
            - float
            - double
        - boolean

2. 참조 자료형
    - new 키워드를 사용해서 초기화 가능
    - String 만은 예외적으로 new을 사용하지 않고도 초기화 가능

## 2. 연산자와 형변환

### 2.1 연산자

- 연산자는 단항연산자   >   *, /, %   >   +, -   순으로 우선순위가 높다
- 단항연산자 중 ~(틸드)는 2진수로 되어 있는 비트 값을 전부 거꾸로 바꾸는 데 사용
- 등가 비교 연산자 (==, !=)는 같은 종류(정수형과 소수형도 같은 종류)끼리 비교가 가능하며 자바의 모든 기본 자료형과 참조 자료형에서 사용 가능. 참조 자료형은 주소값을 비교함
- 자바의 연산자들은 타입별로 사용 가능한 연산자가 정해져 있음. douable, float는 소수형이므로 비트 연산이 불가능함
- &, |, ^(값이 서로 다르면 true, 같으면 false) 연산자는 숫자에 사용하면 비트 연산을, boolean 타입 사이에 사용하면 논리 연산을 수행
- 참조 자료형은 + 이항 연산자만 사용 가능. 사용 시 해당 클래스에 있는 toString() 메소드 결과끼리 더함


### 2.2 형변환

- 기본 자료형 중 boolean 타입은 숫자로 변환할 수 없기 때문에 형변환 불가능
- 더 범위가 넓은 타입으로 변환할 때는 문제가 없으나, 더 범위가 작은 타입으로 변환할 때는 소괄호 안에 타입을 명시해주어야 하며 예상치 못한 값이 나올수도 있음

## 3. 조건문과 반복문

### 3.1 조건문
- case문으로 이루어진 switch 문의 끝에는 default 문이 올 수 있으며 앞에 있는 조건에 맞는 것이 하나도 없을 경우에만 실행됨
- switch 문은 한번 조건을 만족시켜주면 그 아래로 break가 올때까지 모든 case 문들을 통과하며 실행

### 3.2 반복문
- do-while 문은 한 번은 꼭 실행시키고 싶을 때 사용. 마지막 while의 소괄호 뒤에 반드시 세미콜론을 입력해야 함

## 4. 배열

### 4.1 배열의 선언과 기본값
- 배열 선언 시 대괄호는 타입과 변수 사이에 또는 변수명 뒤에 위치
- 배열은 크기만 할당해주면 초기화를 하지 않아도 각 배열의 기본값이 할당됨
- 기본 자료형 배열의 기본값은 각 자료형의 기본값과 동일
- 참조 자료형이므로 new 키워드를 사용해 생성하거나, 중괄호를 사용해서 한번에 선언 및 초기화
- 참조 자료형 변수에 toString()을 재정의하지 않은 경우 출력 시 클래스 이름@메모리 주소 기반으로 생성된 16진수 해시 코드가 출력됨

### 4.2 2차원 배열
- 아래와 같이 선언 및 초기화화
    ```
    int [] twoDim[]; 
    int twoDim[][];

    twoDim = new int[2][3];
    ```
- 2차원의 크기를 지정안할 수도 있으며 2차원의 크기를 다르게 줄 수 있음. 단, 1차원 크기는 항상 지정이 되어야 함함
    ```
    twoDim = new int[2][];
    twoDim[0] = new int[3];
    twoDim[1] = new int[2];
    ```
- 중괄호를 사용해서 한번에 선언 및 초기화 가능.
    {% raw %}
    ```
    int [][]twoDim = {{1, 2, 3}, {4, 5, 6}};
    ```
    {% endraw %}
    
- 2차원의 크기가 제각각이면 반복문을 돌릴 때 아래와 같이 .length 사용 가능
    ```
    twoDim[0].length
    ```
- 다만 for 루프가 수행될 때마다 길이를 얻어오는 건 성능적 측면에서 좋지 않으므로 별도의 크기를 저장하는 변수를 사용하는 것이 권장됨

### 4.3 배열을 위한 for 루프
- for 루프가 수행될 때마다 길이를 얻어오는 건 성능적 측면에서 좋지 않으므로 아래와 같이 사용

    ```
    int twoDimLength = twoDim.length;
    for(int oneLoop = 0; oneLoop < twoDimLength; oneLoop++>){
        int twoDimOneLength = twoDim[oneLoop].length;
        for(int twoLoop = 0; twoLoop<twoDimOneLength>; twoLoop++){
            System.out.println(twoDim[oneLoop][twoLoop]);
        } 
    }
    ```
- 자바에서 제공되는 Collection이라는 자료구조를 좀 더 쉽게 처리할 수 있도록 JDK5부터 for(:){} 지원

### 4.4 main 메소드의 배열 인자
- main 메소드의 배열 인자 String ars[]에 아래와 같이 값을 전달할 수 있음 ({"a", "b", "c", "d"} 배열 전달)
    ```
    java 클래스파일명 a b c d
    ```